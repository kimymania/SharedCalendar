#:kivy 2.3.1
<AddEventPopup@Popup>:
    canvas.before:
        Color:
            rgba: app.colour_background
        RoundedRectangle:
            pos: self.pos
            size: self.size
        Color:
            rgba: app.colour_lines
        Line:
            rounded_rectangle: self.x, self.y, self.width, self.height, 30
            width: 2
    title: '일정 추가'
    title_align: 'center'
    title_color: app.colour_text
    size_hint: 0.8, 0.6
    auto_dismiss: True
    background: ''
    BoxLayout:
        canvas.before:
            Color:
                rgba: app.colour_background
            Rectangle:
                pos: self.pos
                size: self.size
        orientation: 'vertical'
        spacing: dp(10)
        padding: dp(10)
        BoxLayout:
            orientation: 'horizontal'
            spacing: dp(15)
            size_hint_y: 0.35
            Label:
                text: '제목'
                size_hint_x: None
                width: dp(20)
                color: app.colour_text
            TextInput:
                id: event_name
                hint_text: '개 산책'
                multiline: False
        BoxLayout:
            orientation: 'horizontal'
            spacing: dp(15)
            size_hint_y: 0.35
            Label:
                text: '날짜'
                size_hint_x: None
                width: dp(20)
                color: app.colour_text
            Button:
                canvas:
                    Color:
                        rgba: app.colour_lines
                    Line:
                        rectangle: self.x, self.y, self.width, self.height
                        width: 1.5
                text: root.date_start
                color: app.colour_text
                background_normal: ''
                background_color: app.colour_background
                on_release: root.toggle_date_selector(self, 'start')
            Button:
                canvas:
                    Color:
                        rgba: app.colour_lines
                    Line:
                        rectangle: self.x, self.y, self.width, self.height
                        width: 1.5
                text: root.date_end
                color: app.colour_text
                background_normal: ''
                background_color: app.colour_background
                on_release: root.toggle_date_selector(self, 'end')
        BoxLayout:
            orientation: 'horizontal'
            spacing: dp(15)
            size_hint_y: 0.35
            Label:
                text: '시간'
                size_hint_x: None
                width: dp(20)
                color: app.colour_text
            Button:
                canvas:
                    Color:
                        rgba: app.colour_lines
                    Line:
                        rectangle: self.x, self.y, self.width, self.height
                        width: 1.5
                text: root.time_start
                color: app.colour_text
                background_normal: ''
                background_color: app.colour_background
                on_release: root.toggle_time_selector(self, 'start')
            Button:
                canvas:
                    Color:
                        rgba: app.colour_lines
                    Line:
                        rectangle: self.x, self.y, self.width, self.height
                        width: 1.5
                text: root.time_end
                color: app.colour_text
                background_normal: ''
                background_color: app.colour_background
                on_release: root.toggle_time_selector(self, 'end')
        BoxLayout:
            orientation: 'horizontal'
            spacing: dp(15)
            size_hint_y: 0.35
            Label:
                text: '태그'
                size_hint_x: None
                width: dp(20)
                color: app.colour_text
            TextInput:
                id: event_group_tag_name
                hint_text: '태그'
                multiline: False
            Button:
                canvas:
                    Color:
                        rgba: app.colour_lines
                    Line:
                        rectangle: self.x, self.y, self.width, self.height
                        width: 1.5
                id: colour_picker_btn
                text: '색깔 선택'
                color: app.colour_text
                background_normal: ''
                background_color: app.colour_background
                on_release: root.open_colour_picker(self)
        BoxLayout:
            orientation: 'horizontal'
            spacing: dp(15)
            size_hint_y: 0.35
            Label:
                text: '위치'
                size_hint_x: None
                width: dp(20)
                color: app.colour_text
            TextInput:
                id: event_location
                hint_text: '집 앞'
                multiline: False
        BoxLayout:
            orientation: 'horizontal'
            spacing: dp(15)
            size_hint_y: 0.35
            Label:
                text: '반복'
                size_hint_x: 0.2
                color: app.colour_text
            CheckBox:
                id: event_repeat_checkbox
                size_hint_x: 0.2
                on_active: root.toggle_repeat(self)
        BoxLayout:
            orientation: 'horizontal'
            spacing: dp(15)
            size_hint_y: 0.35
            Label:
                text: '알림'
                size_hint_x: 0.2
                color: app.colour_text
            CheckBox:
                id: event_notification_checkbox
                size_hint_x: 0.2
                on_active: root.toggle_notification(self)
        BoxLayout:
            orientation: 'horizontal'
            spacing: dp(15)
            size_hint_y: 0.35
            Label:
                text: '중요함!'
                size_hint_x: 0.2
                color: app.colour_text
            CheckBox:
                id: event_important_checkbox
                size_hint_x: 0.2
                on_active: root.toggle_important(self)
        AnchorLayout:
            anchor_x: 'center'
            anchor_y: 'bottom'
            Button:
                canvas:
                    Color:
                        rgba: app.colour_lines
                    Line:
                        rectangle: self.x, self.y, self.width, self.height
                        width: 1.5
                id: event_add_btn
                text: '일정 추가'
                spacing: dp(5)
                size_hint: 0.5, 0.3
                color: app.colour_text
                background_normal: ''
                background_color: app.colour_background
                on_release: root.save_event(self)

<ViewEventPopup@Popup>:
    title: '일정 열람'
    title_align: 'center'
    title_color: app.colour_text
    size_hint: 0.8, 0.6
    auto_dismiss: True
    background: ''
    BoxLayout:
        orientation: 'vertical'
        spacing: dp(10)
        padding: dp(10)
        BoxLayout:
            orientation: 'horizontal'
            spacing: dp(15)
            size_hint_y: 0.35
            Label:
                text: '제목'
                size_hint_x: None
                width: dp(20)
                color: app.colour_text
            Label:
                id: event_name
                color: app.colour_text
        BoxLayout:
            orientation: 'horizontal'
            spacing: dp(15)
            size_hint_y: 0.35
            Label:
                text: '날짜'
                size_hint_x: None
                width: dp(20)
                color: app.colour_text
            Label:
                canvas:
                    Color:
                        rgba: app.colour_lines
                    Line:
                        rectangle: self.x, self.y, self.width, self.height
                        width: 1.5
                id: date_start
                color: app.colour_text
            Label:
                canvas:
                    Color:
                        rgba: app.colour_lines
                    Line:
                        rectangle: self.x, self.y, self.width, self.height
                        width: 1.5
                id: date_end
                color: app.colour_text
        BoxLayout:
            orientation: 'horizontal'
            spacing: dp(15)
            size_hint_y: 0.35
            Label:
                text: '시간'
                size_hint_x: None
                width: dp(20)
                color: app.colour_text
            Label:
                canvas:
                    Color:
                        rgba: app.colour_lines
                    Line:
                        rectangle: self.x, self.y, self.width, self.height
                        width: 1.5
                id: time_start
                color: app.colour_text
            Label:
                canvas:
                    Color:
                        rgba: app.colour_lines
                    Line:
                        rectangle: self.x, self.y, self.width, self.height
                        width: 1.5
                id: time_end
                color: app.colour_text
        BoxLayout:
            orientation: 'horizontal'
            spacing: dp(15)
            size_hint_y: 0.35
            Label:
                text: '태그'
                size_hint_x: None
                width: dp(20)
                color: app.colour_text
            Label:
                id: group_tag
                halign: 'left'
                valign: 'middle'
                color: app.colour_text
        BoxLayout:
            orientation: 'horizontal'
            spacing: dp(10)
            size_hint_y: 0.35
            Label:
                text: '위치'
                halign: 'right'
                valign: 'middle'
                color: app.colour_text
            Label:
                id: event_location
                halign: 'left'
                valign: 'middle'
                color: app.colour_text
        BoxLayout:
            orientation: 'horizontal'
            spacing: dp(15)
            size_hint_y: 0.35
            Label:
                text: '반복'
                halign: 'right'
                valign: 'middle'
                color: app.colour_text
            Label:
                id: repeat
                halign: 'left'
                valign: 'middle'
                color: app.colour_text
        BoxLayout:
            orientation: 'horizontal'
            spacing: dp(15)
            size_hint_y: 0.35
            Label:
                text: '알림'
                halign: 'right'
                valign: 'middle'
                color: app.colour_text
            Label:
                id: notification
                halign: 'left'
                valign: 'middle'
                color: app.colour_text
        AnchorLayout:
            anchor_x: 'center'
            anchor_y: 'bottom'
            Button:
                canvas.before:
                    Color:
                        rgba: app.colour_background
                    Rectangle:
                        size: self.size
                        pos: self.pos
                    Color:
                        rgba: app.colour_lines
                    Line:
                        rectangle: self.x, self.y, self.width, self.height
                        width: 2
                id: event_edit_btn
                text: '일정 수정'
                color: app.colour_text
                background_normal: ''
                spacing: dp(5)
                size_hint: 0.5, 0.3
                on_release: root.open_edit_event(self)

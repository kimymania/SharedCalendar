#:kivy 2.3.1
<DayView>:
    title: root.selected_day_text
    title_align: 'center'
    size_hint: 0.9, 0.9
    BoxLayout:
        orientation: 'vertical'

        BoxLayout:
            orientation: 'vertical'
            size_hint_y: 0.8
            padding: dp(10)
            spacing: dp(10)
            GridLayout:
                id: events_list
                cols: 1

        Button:
            text: 'Add Event'
            size_hint_y: 0.1
            on_release: root.add_event(self)

        Button:
            text: 'Close'
            size_hint_y: 0.1
            on_release: root.close_popup(self)

<AddEventPopup>:
    title: 'Add Event'
    title_align: 'center'
    size_hint: 0.8, 0.6
    auto_dismiss: True
    BoxLayout:
        orientation: 'vertical'
        spacing: dp(10)
        padding: dp(10)
        TextInput:
            id: event_name
            size_hint_y: 0.35
            hint_text: 'Event Name'
            multiline: False

        BoxLayout:
            orientation: 'horizontal'
            spacing: dp(10)
            size_hint_y: 0.35
            Label:
                text: 'Date'
                size_hint_x: 0.2
            Button:
                text: root.selected_date_start
                on_release: root.toggle_date_selector(self, 'start')

            Button:
                text: root.selected_date_end
                on_release: root.toggle_date_selector(self, 'end')

        BoxLayout:
            orientation: 'horizontal'
            spacing: dp(10)
            size_hint_y: 0.35
            Label:
                text: 'Time'
                size_hint_x: 0.2
            Button:
                text: root.selected_time_start
                on_release: root.toggle_time_selector(self, 'start')

            Button:
                text: root.selected_time_end
                on_release: root.toggle_time_selector(self, 'end')

        BoxLayout:
            orientation: 'horizontal'
            spacing: dp(10)
            size_hint_y: 0.35
            TextInput:
                id: event_group_tag_name
                hint_text: 'Group Tag'
                multiline: False
            Button:
                id: colour_picker_btn
                text: 'Pick Colour'
                on_release: root.open_colour_picker(self)

        TextInput:
            id: event_location
            hint_text: 'Location'
            size_hint_y: 0.35
            multiline: False

        BoxLayout:
            orientation: 'horizontal'
            spacing: dp(10)
            size_hint_y: 0.35
            Label:
                text: 'Repeat'
                size_hint_x: 0.2
            CheckBox:
                id: event_repeat_checkbox
                size_hint_x: 0.2
                on_active: root.toggle_repeat(self)

        BoxLayout:
            orientation: 'horizontal'
            spacing: dp(10)
            size_hint_y: 0.35
            Label:
                text: 'Notification'
                size_hint_x: 0.2
            CheckBox:
                id: event_notification_checkbox
                size_hint_x: 0.2
                on_active: root.toggle_notification(self)

        BoxLayout:
            orientation: 'horizontal'
            spacing: dp(10)
            size_hint_y: 0.35
            Label:
                text: 'Important'
                size_hint_x: 0.2
            CheckBox:
                id: event_important_checkbox
                size_hint_x: 0.2
                on_active: root.toggle_important(self)

        AnchorLayout:
            anchor_x: 'center'
            anchor_y: 'bottom'
            Button:
                id: event_add_btn
                text: 'Add Event'
                spacing: dp(5)
                size_hint: 0.5, 0.3
                on_release: root.save_event(self)

<ViewEventPopup>:
    title: 'View Event'
    title_align: 'center'
    size_hint: 0.8, 0.6
    auto_dismiss: True
    BoxLayout:
        orientation: 'vertical'
        spacing: dp(10)
        padding: dp(10)
        Label:
            id: event_name
            size_hint_y: 0.35

        BoxLayout:
            orientation: 'horizontal'
            spacing: dp(10)
            size_hint_y: 0.35
            Label:
                text: 'Date'
                size_hint_x: 0.2
            Label:
                id: date_start
            Label:
                id: date_end

        BoxLayout:
            orientation: 'horizontal'
            spacing: dp(10)
            size_hint_y: 0.35
            Label:
                text: 'Time'
                size_hint_x: 0.2
            Label:
                id: time_start
            Label:
                id: time_end

        BoxLayout:
            orientation: 'horizontal'
            spacing: dp(10)
            size_hint_y: 0.35
            Label:
                text: 'Group Tag'
                halign: 'right'
                valign: 'middle'
            Label:
                id: group_tag
                halign: 'left'
                valign: 'middle'

        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: 0.35
            Label:
                text: 'Location: '
                halign: 'right'
                valign: 'middle'
            Label:
                id: event_location
                halign: 'left'
                valign: 'middle'

        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: 0.35
            Label:
                text: 'Repeat: '
                halign: 'right'
                valign: 'middle'
            Label:
                id: repeat
                halign: 'left'
                valign: 'middle'

        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: 0.35
            Label:
                text: 'Notification: '
                halign: 'right'
                valign: 'middle'
            Label:
                id: notification
                halign: 'left'
                valign: 'middle'

        AnchorLayout:
            anchor_x: 'center'
            anchor_y: 'bottom'
            Button:
                id: event_edit_btn
                text: 'Edit Event'
                spacing: dp(5)
                size_hint: 0.5, 0.3
                on_release: root.open_edit_event(self)

<DayViewEvent@ButtonBehavior+BoxLayout>:
    orientation: 'horizontal'
    size_hint_y: None
    height: dp(40)
    spacing: dp(10)
    padding: dp(10), dp(5)
    BoxLayout:
        orientation: 'vertical'
        size_hint_x: 0.3
        Label:
            id: start_time
            halign: 'left'
            font_size: dp(15)
        Label:
            id: end_time
            halign: 'left'
            font_size: dp(15)

    Label:
        id: event_name
        halign: 'left'
        valign: 'middle'
